<template>
	<article class="slds-card">
		<div class="slds-card__header slds-grid">
			<header class="slds-media slds-media_center slds-has-flexi-truncate">

				<div class="slds-media__figure">
					<lightning-icon icon-name="utility:search" alternative-text="Connected" size="x-small" title="x-small size">
					</lightning-icon>
				</div>


				<div class="slds-media__body">

					<h2 class="slds-card__header-title">

						<span>Contact Search</span>

					</h2>
				</div>

			</header>
		</div>

		<div class="slds-p-horizontal_small">

			<div class="slds-grid slds-size_2-of-3">

				<legend class="slds-form-element__legend slds-form-element__label">Contact Name</legend>
				<lightning-input variant="label-hidden" onkeypress={handleEnter} onchange={updateKey} type="search" label="Contact Name:" value={key}></lightning-input>

				<div class="slds-p-left_x-large">
					<lightning-button variant="brand" onclick={handleSearch} label="Search"> </lightning-button>
				</div>


			</div>

		</div>

        <div class="slds-grid slds-glutters">
            <div class="slds-col slds-size_2-of-3">
                <div class="slds-grid slds-size_3-of-3 slds-p-top_x-large">
                    <lightning-datatable
                                key-field="id"
                                load-more-offset="5"
                                data={data} hide-checkbox-column
                                columns={columns}
                                onrowaction={handleRowAction}
                                enable-infinite-loading
                                show-row-number-column
                                column-widths-mod ="auto">
                                
                    </lightning-datatable>
                    
                </div>
                
            </div>
            
            <div class="slds-col slds-size_1-of-3">
                <img src={ImgTag} onclick={navigateToContactPage} width="100px">
                <div style="bottom: 0px;">
                    <p><lightning-formatted-text value={NameTag}></lightning-formatted-text></p>
                    <p><lightning-formatted-text value={TitleTag}></lightning-formatted-text></p>
                    <p><lightning-formatted-rich-text value={PhoneTag}></lightning-formatted-rich-text></p>
                    <p><lightning-formatted-rich-text value={EmailTag}></lightning-formatted-rich-text></p>
                </div>
            </div>
        </div>

		<footer class="slds-card__footer">
			<div slot="footer" class="slds-grid">
				<lightning-button variant="neutral" label="Close" class="slds-m-right_medium" onclick={closeQuickAction}>
				</lightning-button>

				<div class="slds-col slds-text-align_right">

					<lightning-button variant="brand" label="Create New" onclick={createContactModal}></lightning-button>
				</div>
			</div>
		</footer>
	</article>

    <!-- modal start -->      
   <template if:true={isShowModal}>
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
       <div  class="slds-modal__container">

        <!-- modal header start -->
          <header class="slds-modal__header">
             <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Cancel" onclick={hideModalBox}>
                <lightning-icon icon-name="utility:close"
                   alternative-text="close"
                   variant="inverse"
                   size="small" ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
             </button>
             <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">New Contact</h2>
          </header>
           
          <!-- modal body start -->
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                <lightning-card>
                    <lightning-record-edit-form object-api-name="Contact">
                        <lightning-messages> </lightning-messages>
                        <lightning-input-field required field-name="Salutation"> </lightning-input-field>
                        <lightning-input-field field-name="FirstName"> </lightning-input-field>
                        <lightning-input-field field-name="LastName"> </lightning-input-field>
                        <lightning-input-field field-name="Title"> </lightning-input-field>
                        <lightning-input-field field-name="Email"> </lightning-input-field>
                        <lightning-input-field field-name="MobilePhone"> </lightning-input-field>
                        <lightning-input-field value={recordId} field-name="AccountId"> </lightning-input-field>

                        <lightning-button
                            class="slds-m-top_small"
                            type="submit"
                            label="Create new"

                        >
                        </lightning-button>

                    </lightning-record-edit-form>
                </lightning-card>
            </div>
       </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
 </template>
 <!-- modal end -->

</template>

























<!-- <template>
    	
    <lightning-card class="slds-card" title="Contact Search">
        <div class = "slds-var-m-around_medium">
              <label>Contact Name:</label>
        <lightning-input class="" type="search" placeholder="Enter a Contact Name To Search" onchange={searchEvent}>   </lightning-input>    
        </div>
          
        <div class="slds-grid slds-gutters">
            <div class="slds-grid slds-size_2-of-3">
                
                
                <div class="slds-var-m-around_medium">
                    <lightning-datatable
                        key-field="id"
                        data={data}
                        columns={columns}>
                    </lightning-datatable>
            </div>
          

            </div>

            <div class="slds-col slds-size_1-of-3">
                <a>Test message</a>
            </div>

        </div>    
        
    </lightning-card>    
</template> -->